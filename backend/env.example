# ============================================================
# HomeCare CRM — Environment Variables
# Copy this file to .env and fill in all required values.
# ============================================================

# ── REQUIRED (server will not start without these) ─────────

# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://username:password@localhost:5432/homecare_crm

# JWT signing secret — generate with:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=

# ── REQUIRED FOR ENCRYPTION (PII fields: SSN, DOB, etc.) ───

# AES-256 encryption key — generate with:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=

# Optional: override the salt used to derive the encryption key
# Change this per tenant for true key isolation
# ENCRYPTION_SALT=homecare-crm-encryption-salt-v1

# ── SERVER ─────────────────────────────────────────────────

PORT=5000

# URL of the frontend (used for CORS and redirect links)
FRONTEND_URL=http://localhost:3000

# ── AGENCY IDENTITY (drives branding & defaults) ───────────

AGENCY_NAME=Your Home Care Agency
AGENCY_NPI=1234567890
AGENCY_TAX_ID=12-3456789
AGENCY_TAXONOMY=251E00000X
AGENCY_PHONE=555-555-5555
AGENCY_ADDRESS=123 Main St
AGENCY_CITY=Your City
AGENCY_STATE=WI
AGENCY_ZIP=54701
AGENCY_CONTACT=Admin Name

# ── PAYROLL DEFAULTS ───────────────────────────────────────

DEFAULT_HOURLY_RATE=15.00
OVERTIME_MULTIPLIER=1.5

# Federal tax defaults (update annually)
FEDERAL_TAX_STANDARD_DEDUCTION=14600
SOCIAL_SECURITY_RATE=0.062
SOCIAL_SECURITY_WAGE_LIMIT=160200
MEDICARE_RATE=0.0145

# ── STRIPE (client billing & payments) ─────────────────────
# Get from https://dashboard.stripe.com/apikeys

STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# ── TWILIO (SMS notifications) ─────────────────────────────
# Get from https://console.twilio.com

TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=+15555555555

# ── PUSH NOTIFICATIONS (Web Push / VAPID) ──────────────────
# Generate with: npx web-push generate-vapid-keys

VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=

# ── SANDATA (EVV — Electronic Visit Verification) ──────────
# Required for Medicaid billing in participating states
# Contact Sandata for API credentials

SANDATA_API_URL=https://api.sandata.com/
SANDATA_USERNAME=
SANDATA_PASSWORD=
SANDATA_ACCOUNT_ID=

# ── GUSTO (Payroll integration) ─────────────────────────────
# Get from https://developer.gusto.com

GUSTO_API_KEY=
GUSTO_COMPANY_ID=

# ── WORCS (Wisconsin DOJ background checks) ─────────────────
# Only required for Wisconsin agencies
# Contact Wisconsin DOJ for account credentials

WORCS_USERNAME=
WORCS_PASSWORD=
WORCS_ACCOUNT_NUMBER=

# ── GOOGLE MAPS (route optimization) ───────────────────────
# Get from https://console.cloud.google.com

GOOGLE_MAPS_API_KEY=

# ── FILE UPLOADS ────────────────────────────────────────────

# Directory for uploaded files (documents, etc.)
UPLOAD_DIR=./uploads

# ── COMPLIANCE ─────────────────────────────────────────────

# How many years to retain audit logs (HIPAA minimum: 6 years)
AUDIT_LOG_RETENTION_YEARS=7
